import{createVisitBtn,root}from"./constants.js";import VisitModal from"../classes/VisitModal.js";import createDoctorForm from"./createDoctorForm.js";export default function createModalVisit(t,e,o){if(t){const t=new VisitModal({id:"modalVisit",classes:["modal","visit"]}),e=t.modal;root.append(e),createVisitBtn.addEventListener("click",(function(o){o.stopPropagation(),t.openModal();document.querySelector("#visit-form").style.display="block";const s=document.querySelector(".form-select");s.addEventListener("change",()=>{let t=s.options.selectedIndex;createDoctorForm(t,e)})}))}else{const t=document.getElementById("modalVisit");t.classList.add("active");let s;document.querySelector("#visit-form").style.display="none",t.scrollIntoView(),"Cardiologist"==o.doctor&&(s=1),"Dentist"==o.doctor&&(s=2),"Therapist"==o.doctor&&(s=3),createDoctorForm(s,t,e,o,!1)}const s=document.getElementById("modalVisit"),c=document.querySelector(".close");document.addEventListener("click",(function(t){const e=t.target,o=e==s||s.contains(e),i=e==c,r=s.classList.contains("active");o||i||!r||(s.classList.remove("active"),clearModalFields(s))}))}