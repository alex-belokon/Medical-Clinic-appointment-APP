import putInfoToDB from"./putInfoToDB.js";import deleteInfoFromDB from"./deleteInfoFromDB.js";import createModalVisit from"./creatvisit.js";import getInfoFromDB from"./getInfoFromDB.js";import itemsAbsentAtDB from"./itemsAbsentAtDB.js";export default function cardsBtnsHandler(e,t){const s=e.getElementsByClassName("cards-btn edit")[0],o=e.getElementsByClassName("cards-btn showMore")[0],n=e.getElementsByClassName("cards-btn done")[0];"Open"==t.status&&n.addEventListener("click",(function(){n.disabled=!0,t.status="Done",putInfoToDB(e.id,t).then(e=>{}).catch(e=>{console.log(e.message)})})),o.addEventListener("click",(function(){const t=Array.from(e.getElementsByClassName("cardelem"));for(let e=1;e<t.length;e++)t[e].classList.toggle("active")})),s.addEventListener("click",(function(s){const o=e.getElementsByClassName("cards-btn--additional-wrapper")[0];o.classList.toggle("active");const n=e.getElementsByClassName("editBtnEdit")[0],a=e.getElementsByClassName("editBtnDelete")[0];n.addEventListener("click",(function(s){s.stopPropagation(),o.classList.toggle("active");const n=document.querySelector("#doctorForm");null!=n&&n.remove(),createModalVisit(!1,e.id,t)})),a.addEventListener("click",(function(t){t.stopPropagation(),o.classList.toggle("active"),deleteInfoFromDB(e.id).then(e=>{getInfoFromDB().then(e=>{0==e.length&&itemsAbsentAtDB()})}).catch(e=>{console.log(e.message)}),e.remove()}))}))}